<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cadastros - Almoxarifado</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <link rel="stylesheet" href="../styles.css">
  <script>if(localStorage.getItem('almox_tema')==='dark')document.documentElement.setAttribute('data-theme','dark');</script>
</head>
<body>
  <div id="navbarContainer"></div>
  <div class="container">
    <main class="main-content">
      <h1 class="pagina-titulo"><i class="bi bi-folder2"></i> Cadastros</h1>
      <div id="mensagem" class="mensagem"></div>
      <div class="info-box">
        <i class="bi bi-info-circle"></i>
        <div><strong>Estrutura:</strong> Categoria → Subcategoria (com atributos). Depois vá em <strong>Novo Item</strong> para criar itens preenchendo os valores dos atributos.</div>
      </div>
      <div class="layout-dois-paineis">
        <div class="painel">
          <h2><i class="bi bi-box-seam"></i> Categorias</h2>
          <form id="formCategoria">
            <div class="form-grupo">
              <label for="nomeCategoria">Nome da Categoria *</label>
              <input type="text" id="nomeCategoria" required placeholder="Ex: Ferramentas, EPIs, Fixação">
            </div>
            <div class="btn-group">
              <button type="submit" class="btn btn-primary"><i class="bi bi-floppy"></i> Salvar</button>
              <button type="reset" class="btn btn-secondary"><i class="bi bi-arrow-clockwise"></i></button>
            </div>
          </form>
          <div id="listaCategorias" class="lista-itens">
            <div class="vazio"><i class="bi bi-inbox"></i> Nenhuma categoria cadastrada</div>
          </div>
          <div class="contador">
            <strong id="totalCategorias">0</strong> categoria(s)
          </div>
        </div>
        <div class="painel">
          <h2><i class="bi bi-folder"></i> Subcategorias</h2>
          <form id="formSubcategoria">
            <div class="form-grupo">
              <label for="categoriaParente">Categoria *</label>
              <select id="categoriaParente" required>
                <option value="">Selecione uma categoria</option>
              </select>
            </div>
            <div class="form-grupo">
              <label for="nomeSubcategoria">Nome da Subcategoria *</label>
              <input type="text" id="nomeSubcategoria" required placeholder="Ex: Chaves, Parafusos, Luvas">
            </div>
            <div class="form-row">
              <div class="form-grupo">
                <label for="unidadeSubcategoria">Unidade *</label>
                <select id="unidadeSubcategoria" required>
                  <option value="UN">Unidade (UN)</option>
                  <option value="PC">Peça (PC)</option>
                  <option value="CX">Caixa (CX)</option>
                  <option value="MT">Metro (MT)</option>
                  <option value="KG">Quilo (KG)</option>
                  <option value="LT">Litro (LT)</option>
                  <option value="PAR">Par (PAR)</option>
                  <option value="JG">Jogo (JG)</option>
                  <option value="RL">Rolo (RL)</option>
                  <option value="PCT">Pacote (PCT)</option>
                </select>
              </div>
              <div class="form-grupo">
                <label for="estoqueMinimo">Estoque Mínimo *</label>
                <input type="number" id="estoqueMinimo" required min="0" value="10" placeholder="10">
              </div>
            </div>
            <div class="form-grupo">
              <label>Atributos <span class="opcional">(campos que o item terá)</span></label>
              <div class="atributos-container" id="atributosContainer">
                <input type="text" id="atributoInput" placeholder="Digite e pressione Enter">
              </div>
              <small>Enter para adicionar, Backspace para remover a última</small>
            </div>
            <div class="btn-group">
              <button type="submit" class="btn btn-primary"><i class="bi bi-floppy"></i> Salvar Subcategoria</button>
              <button type="reset" class="btn btn-secondary"><i class="bi bi-arrow-clockwise"></i></button>
            </div>
          </form>
          <div class="secao-separador">
            <div class="form-grupo">
              <label for="filtroSubcategorias">Filtrar por Categoria</label>
              <select id="filtroSubcategorias">
                <option value="">Todas as categorias</option>
              </select>
            </div>
          </div>
          <div id="listaSubcategorias" class="lista-itens">
            <div class="vazio"><i class="bi bi-inbox"></i> Nenhuma subcategoria cadastrada</div>
          </div>
          <div class="contador">
            <strong id="totalSubcategorias">0</strong> subcategoria(s)
          </div>
        </div>
      </div>
    </main>
  </div>
  <script src="../js/sidebar.js"></script>
  <script src="../js/cadastro.js"></script>
</body>
</html>
